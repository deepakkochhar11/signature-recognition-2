var DTW = require('dtw');
var dtw = new DTW();

extrema = function(values, eps) {
    // make y enumerated and define x = 1, 2, 3, ...
    var x, y;
    y = enumerate(values);
    x = Object.keys(y).map(Math.floor);
    // call extremaXY version
    var res = extremaXY(x, y, eps);
    res.minlist = res.minlist.map(function(val) {
        var index = Math.floor((val[1] + val[0]) / 2);
        return Object.keys(values)[index];
    });
    res.maxlist = res.maxlist.map(function(val) {
        var index = Math.floor((val[1] + val[0]) / 2);
        return Object.keys(values)[index];
    });

    return {minlist: res.minlist, maxlist: res.maxlist};
}

extremaXY = function(x, y, eps) {
        // declare local vars
        var n, s, m, M, maxlist, minlist, i, j;
        // define x & y enumerated arrays
        var enumerate = function(obj) {
            var arr = [];
            var keys = Object.keys(obj);
            for (var k = 0; k < keys.length; k++) {
                arr[k] = obj[keys[k]];
            }
            return arr;
        }
        y = enumerate(y);
        x = enumerate(x);
        // set initial values
        n = y.length;
        s = 0;
        m = y[0];
        M = y[0];
        maxlist = [];
        minlist = [];
        i = 1;
        if (typeof eps == "undefined") {
            eps = 0.1;
        }
        // the algorithm
        while (i < n) {
            if (s == 0) {
                if (!(M - eps <= y[i] && y[i] <= m + eps)) {
                    if (M - eps > y[i]) {
                        s = -1;
                    }
                    if (m + eps < y[i]) {
                        s = 1;
                    }
                }
                M = Math.max(M, y[i]);
                m = Math.min(m, y[i]);
            }
            else {
                if (s == 1) {
                    if (M - eps <= y[i]) {
                        M = Math.max(M, y[i]);
                    }
                    else {
                        j = i - 1;
                        while(y[j] >= M - eps) {
                            j--;
                        }
                        maxlist.push( [x[j], x[i]] );
                        s = -1;
                        m = y[i];
                    }
                }
                else {
                    if(s == -1) {
                        if(m + eps >= y[i]) {
                            m = Math.min(m, y[i]);
                        }
                        else {
                            j = i - 1;
                            while(y[j] <= m + eps) {
                                j--;
                            }
                            minlist.push( [x[j], x[i]] );
                            s = 1;
                            M = y[i];
                        }
                    }
                }
            }
            i++;
        }

        return {minlist: minlist, maxlist: maxlist};
    }

    // helper to make an array or object an enumerated array
    var enumerate = function(obj) {
        var arr = [];
        var keys = Object.keys(obj);
        for (var k = 0; k < keys.length; k++) {
            arr[k] = obj[keys[k]];
        }
        return arr;
}

var s = [0,0,0,1,1,1,1,6,6,6,8,8,8,8,7,7,4,4,0,0,6,6,12,12,23,23,22,22,22,22,22,18,18,16,16,16,22,19,null,null,null,null,null,null,null,null,null,null,36,36,36,35,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,65,65,64,64,64,64,64,64,64,64,64,65,65,67,67,67,67,66,65];
var t = [0,0,0,1,1,1,1,6,6,6,6,6,8,8,7,7,4,4,0,0,6,6,12,12,20,20,22,22,22,22,22,18,18,16,16,16,20,19,null,null,null,null,null,null,null,null,null,null,36,36,36,35,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,65,65,64,64,64,64,64,64,64,64,64,65,65,67,67,67,67,66,65];

s = [0,0,0,1,1,1,1,6,6,6,8,8,8,8,7,7,4,4,0,0,6,6,12,12,20,20,22,22,22,22,22,18,18,16,16,16,16,19,null,null,null,null,null,null,null,null,null,null,36,36,36,35,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,65,65,64,64,64,64,64,64,64,64,64,65,65,67,67,67,67,66,65,null,null,null,null,null,52,52,51,51,51,54,54,60,60,68,68,73,73,75,75,75,75,69,69,64,64,61,61,61,62,null,null,null,null,null,null,null,null,76,76,76,76,77,77,77,77,78,78,80,80,83,83,83,83,83,81,81,81,78,78,5,0,78,78,81,81,84,84,88,88,91,91,93,93,97,97,102,102,102,108,108,109,109,106,106,101,101,96,96,95,95,98,98,104,104,107,107,108,108,104,104,101,101,99,99,98,98,97,97,95,95,93,93,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,119,119,120,121,121,121,123,123,123,123,121,121,118,118,117,117,118,118,122,122,126,126,126,131,131,133,133,134,134,null,null,null,null,null,null,131,131,130,130,129,129,129,129,128,128,130,130,132,132,134,null,null,null,null,null,null,null,null,null,null,142,142,142,141,141,141,140,140,140,140,142,142,146,146,149,149,150,150,149,149,147,147,144,144,142,142,141,141,null,null,null,null,null,null,null,null,154,155,156,156,156,157,157,156,156,155,155,156,156,158,158,161,161,164,164,165,165,165,165,164,164,164,163,163,162,162,164,164,166,166,168,168,169,169,171,171,172,172,175,null,178,178,180,180,180,181,181,181,181,181,181,181,181,182,182,183,183,183,183,182,182,178,178,176,176,175,175,176,null,null,null,null,null,null,null,195,196,196,198,198,198,198,195,195,192,192,191,191,192,192,194,194,198,198,201,201,205,205,206,206,null,null,null,null,null,null,204,204,204,203,203,202,202,202,202,202,202,204,204,207,null,null,null,null,null,null,null,null,212,212,211,211,211,210,210,210,210,210,211,211,213,213,214,214,214,214,214,214,214,214,213,213,213,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,33,33,33,32,32,32,31,31,31,31,33,33,37,37,41,41,47,47,48,48,48,48,48,46,46,42,42,41,41,42,42,49,49,53,53,58,58,58,58,57,57,56,56,57,null,null,null,null,null,null,null,null,null,69,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,89,89,88,88,88,88,88,88,87,87,87,87,89,null,null,null,null,null,null,null,null,null,null,82,82,83,85,85,85,85,100,100,105,105,106,106,103,103,95,95,89,89,87,87,87,null,null,null,null,null,null,null,null,null,102,102,101,101,101,101,101,101,104,104,106,106,108,108,108,108,105,105,102,102,98,98,98,98,98,98,102,102,106,106,109,109,112,112,114,null,null,null,null,null,null,121,123,123,123,123,123,123,123,120,120,118,118,115,115,115,115,117,117,118,118,118,119,119,119,119,118,118,118,118,118,118,120,120,123,123,126,126,129,129,131,131,132,132,134,134,136,136,137,137,134,134,125,125,117,117,112,112,112,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,141,141,142,142,142,142,144,144,144,144,141,141,140,140,140,140,143,143,145,145,148,148,151,151,154,154,156,157,null,null,null,null,null,null,154,153,152,152,150,150,148,148,148,148,148,148,152,152,155,null,null,null,null,null,null,162,162,161,161,161,161,162,162,165,165,167,167,168,168,166,166,163,163,160,160,159,159,159,160,null,null,null,null,null,null,null,null,174,174,174,174,174,173,173,172,172,172,172,174,174,179,179,182,182,182,182,182,182,181,181,182,182,186,186,189,189,193,193,195,195,194,194,193,193,192,192,192,192,192,192,190,190,188,188,188,null,null,null,null,null,null,null,null,null,null,null,null,209,209,209,209,209,209,203,203,201,201,201,201,201,203,203,205,205,208,208,210,210,211,211,213,213,213,213,212,212,211,211,211,211,212,212,214,214,217,217,218,null,null,null,null,null,null,null,null,null,null,null,null,220,220,219,219,219,219,219,218,218,217,217,217,217,218,null,null,null,null,null,null,null,null,null,null,223,221,221,221,221,221,221,221,220,220,221,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,55,55,55,54,54,53,53,54,54,58,58,65,65,71,71,72,72,71,71,67,67,61,61,60,60,63,63,69,69,73,73,74,74,73,73,72,72,72,72,76,null,null,null,null,null,null,null,83,84,84,84,84,84,84,83,83,83,null,null,null,null,null,null,null,null,null,null,null,null,null,null,102,102,102,102,102,102,102,103,103,103,103,103,103,103,103,null,null,null,null,null,null,null,null,null,null,99,99,101,102,103,103,115,115,115,115,126,126,126,120,120,110,110,106,106,106,106,108,null,null,null,null,null,null,null,null,119,119,119,119,119,121,121,124,124,127,127,127,127,126,126,123,123,119,119,117,117,117,117,120,120,126,126,131,131,134,null,null,null,null,null,null,null,140,141,141,141,141,141,138,138,135,135,132,132,133,133,134,134,137,137,138,138,137,137,136,136,136,136,139,139,146,146,150,150,153,153,154,154,150,150,146,146,142,142,138,138,134,134,132,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,161,160,160,160,160,160,158,158,158,158,158,158,160,160,163,163,166,166,170,170,172,172,173,null,null,null,null,null,null,null,null,166,166,165,165,165,165,164,164,163,163,163,163,165,165,167,null,null,null,null,null,null,null,null,null,177,177,175,175,175,174,174,173,173,173,173,174,174,177,177,177,179,179,180,180,178,178,174,174,172,172,null,null,null,null,null,null,null,null,null,186,186,184,184,184,183,183,183,183,185,185,187,187,191,191,192,192,192,192,191,191,191,190,190,190,190,192,192,195,195,197,197,198,198,197,197,196,196,195,null,null,null,null,null,null,null,208,209,209,209,209,207,207,207,207,207,207,208,208,208,208,206,206,202,202,198,null,null,null,null,null,null,null,null,null,null,null,null,216,216,216,216,216,216,217,217,216,216,216,216,216,216,216,216,217,217,219,219,223,223,226,226,227,227,227,227,227,null,226,226,226,226,226,225,225,225,225,225,225,225,225,225,226,226,228,230,null,null,null,null,null,null,null,235,235,235,235,234,234,233,233,233,233,235,236,null,null,null,null,null,null,239,239,239,239,238,238,238,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,65,65,64,64,64,64,64,67,67,73,73,79,79,80,80,79,79,76,76,71,71,70,70,73,73,81,81,87,87,89,89,88,88,84,84,81,81,82,82,85,85,87,null,null,null,null,null,null,null,98,98,98,99,99,98,98,97,97,96,96,96,96,null,null,null,null,null,null,null,null,null,null,null,null,null,null,110,109,109,109,109,109,109,109,109,109,109,109,110,null,null,null,null,null,null,null,null,null,null,null,null,109,111,111,111,115,115,115,115,123,123,124,124,119,119,113,113,111,111,110,110,114,116,null,null,null,null,null,null,null,null,123,121,121,121,121,122,122,124,124,124,127,127,130,130,130,130,129,129,126,126,122,122,120,120,120,120,123,123,128,128,133,133,136,null,null,null,null,null,null,null,null,null,null,145,145,143,143,139,139,136,136,136,136,136,136,141,141,145,145,147,147,145,145,141,141,140,140,142,142,145,145,145,147,147,143,143,131,131,127,127,121,121,121,121,123,null,null,null,null,null,null,null,null,158,158,159,161,162,162,164,164,164,164,164,160,160,155,155,153,153,155,155,157,157,160,160,164,164,167,167,168,169,null,null,null,null,null,null,null,163,163,162,162,161,161,160,160,160,160,161,161,163,163,165,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,169,169,169,169,169,169,171,171,173,173,175,175,176,176,176,176,173,173,170,170,168,168,168,null,null,null,null,null,null,null,null,null,null,182,181,181,181,179,179,178,178,179,179,181,181,184,184,186,186,187,187,187,187,187,187,187,187,189,189,189,192,192,193,193,193,193,192,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,62,62,62,62,62,62,64,64,69,69,74,74,80,80,81,81,79,79,75,75,72,72,71,71,72,72,78,78,82,82,86,86,85,85,82,82,81,81,84,84,86,null,null,null,null,null,null,null,null,null,null,null,97,97,97,96,96,95,95,95,95,95,97,null,null,null,null,null,null,null,null,null,null,null,null,113,113,113,113,113,113,113,113,112,112,112,112,114,null,null,null,null,null,null,null,null,105,105,105,105,106,107,107,115,115,123,123,128,128,130,130,126,126,121,121,115,115,112,112,112,112,116,null,null,null,null,null,null,null,null,null,124,124,124,124,125,125,127,127,130,130,133,133,134,134,133,133,129,129,126,126,125,125,125,125,129,129,134,136,null,null,null,null,null,null,null,null,null,null,146,146,146,146,145,145,145,145,141,141,141,141,141,141,141,141,141,141,141,141,141,140,140,140,140,142,142,145,145,148,148,150,150,151,151,150,150,150,150,154,154,155,155,154,154,149,149,149,143,143,140,140,138,138,138,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,160,160,161,161,161,161,161,161,161,159,159,158,158,158,158,160,160,163,163,166,166,169,169,172,172,173,null,null,null,null,null,null,null,null,168,166,166,166,165,165,164,164,165,165,167,167,169,null,null,null,null,null,null,null,null,null,177,176,175,175,175,175,175,175,179,179,181,181,184,184,184,184,184,182,182,178,178,175,175,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,190,190,189,188,188,188,188,186,186,189,189,194,194,197,197,197,197,197,197,195,195,194,194,194,194,196,196,200,200,204,204,205,205,205,205,203,203,200,200,200,201,202,null,null,null,210,212,212,212,212,212,212,211,211,211,211,211,211,214,214,214,216,216,217,217,214,214,210,210,210,208,208,208,208,209,null,null,null,null,null,null,null,null,223,223,224,225,225,227,227,228,228,225,225,222,222,220,220,220,220,221,221,225,225,229,229,231,231,232,232,232,null,null,null,231,231,231,230,230,230,230,229,229,229,229,230,230,233,233,234,null,null,null,null,null,null,242,242,242,241,241,239,239,239,239,239,240,241,null,null,null,null,null,243,243,243,243,243,242];
t = [0,0,0,1,1,1,1,6,6,6,8,8,8,8,7,7,4,4,0,0,6,6,12,12,20,20,22,22,22,22,22,18,18,16,16,16,16,19,null,null,null,null,null,null,null,null,null,null,36,36,36,35,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,65,65,64,64,64,64,64,64,64,64,64,65,65,67,67,67,67,66,65,null,null,null,null,null,52,52,51,51,51,54,54,60,60,68,68,73,73,75,75,75,75,69,69,64,64,50,0,61,62,null,null,null,null,null,null,null,null,76,76,76,76,77,77,77,77,78,78,80,80,83,83,83,83,83,81,81,81,78,78,5,0,78,78,81,81,84,84,95,130,91,91,50,12,0,50,102,102,102,108,108,109,109,106,106,101,101,96,96,95,95,98,98,104,104,107,107,108,108,104,104,101,101,99,99,98,98,97,97,95,95,93,93,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,119,119,120,121,121,121,123,123,123,123,121,121,118,118,117,117,118,118,122,122,126,126,126,131,131,133,133,134,134,null,null,null,null,null,null,131,131,130,130,129,129,129,129,128,128,130,130,132,132,134,null,null,null,null,null,null,null,null,null,null,142,142,142,141,141,141,140,140,140,140,142,142,146,146,149,149,150,150,149,149,147,147,144,144,142,142,141,141,null,null,null,null,null,null,null,null,154,155,156,156,156,157,157,156,156,155,155,156,156,158,158,161,161,164,164,165,165,165,165,164,164,164,163,163,162,162,164,164,166,166,168,168,169,169,171,171,172,172,175,null,178,178,180,180,180,181,181,181,181,181,181,181,181,182,182,183,183,183,183,182,182,178,178,176,176,175,175,176,null,null,null,null,null,null,null,195,196,196,198,198,198,198,195,195,192,192,191,191,192,192,194,194,198,198,201,201,205,205,206,206,null,null,null,null,null,null,204,204,204,203,203,202,202,202,202,202,202,204,204,207,null,null,null,null,null,null,null,null,212,212,211,211,211,210,210,210,210,210,211,211,213,213,214,214,214,214,214,214,214,214,213,213,213,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,33,33,33,32,32,32,31,31,31,31,33,33,37,37,41,41,47,47,48,48,48,48,48,46,46,42,42,41,41,42,42,49,49,53,53,58,58,58,58,57,57,56,56,57,null,null,null,null,null,null,null,null,null,69,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,89,89,88,88,88,88,88,88,87,87,87,87,89,null,null,null,null,null,null,null,null,null,null,82,82,83,85,85,85,85,100,100,105,105,106,106,103,103,95,95,89,89,87,87,87,null,null,null,null,null,null,null,null,null,102,102,101,101,101,101,101,101,104,104,106,106,108,108,108,108,105,105,102,102,98,98,98,98,98,98,102,102,106,106,109,109,112,112,114,null,null,null,null,null,null,121,123,123,123,123,123,123,123,120,120,118,118,115,115,115,115,117,117,118,118,118,119,119,119,119,118,118,118,118,118,118,120,120,123,123,126,126,129,129,131,131,132,132,134,134,136,136,137,137,134,134,125,125,117,117,112,112,112,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,141,141,142,142,142,142,144,144,144,144,141,141,140,140,140,140,143,143,145,145,148,148,151,151,154,154,156,157,null,null,null,null,null,null,154,153,152,152,150,150,148,148,148,148,148,148,152,152,155,null,null,null,null,null,null,162,162,161,161,161,161,162,162,165,165,167,167,168,168,166,166,163,163,160,160,159,159,159,160,null,null,null,null,null,null,null,null,174,174,174,174,174,173,173,172,172,172,172,174,174,179,179,182,182,182,182,182,182,181,181,182,182,186,186,189,189,193,193,195,195,194,194,193,193,192,192,192,192,192,192,190,190,188,188,188,null,null,null,null,null,null,null,null,null,null,null,null,209,209,209,209,209,209,203,203,201,201,201,201,201,203,203,205,205,208,208,210,210,211,211,213,213,213,213,212,212,211,211,211,211,212,212,214,214,217,217,218,null,null,null,null,null,null,null,null,null,null,null,null,220,220,219,219,219,219,219,218,218,217,217,217,217,218,null,null,null,null,null,null,null,null,null,null,223,221,221,221,221,221,221,221,220,220,221,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,55,55,55,54,54,53,53,54,54,58,58,65,65,71,71,72,72,71,71,67,67,61,61,60,60,63,63,69,69,73,73,74,74,73,73,72,72,72,72,76,null,null,null,null,null,null,null,83,84,84,84,84,84,84,83,83,83,null,null,null,null,null,null,null,null,null,null,null,null,null,null,102,102,102,102,102,102,102,103,103,103,103,103,103,103,103,null,null,null,null,null,null,null,null,null,null,99,99,101,102,103,103,115,115,115,115,126,126,126,120,120,110,110,106,106,106,106,108,null,null,null,null,null,null,null,null,119,119,119,119,119,121,121,124,124,127,127,127,127,126,126,123,123,119,119,117,117,117,117,120,120,126,126,131,131,134,null,null,null,null,null,null,null,140,141,141,141,141,141,138,138,135,135,132,132,133,133,134,134,137,137,138,138,137,137,136,136,136,136,139,139,146,146,150,150,153,153,154,154,150,150,146,146,142,142,138,138,134,134,132,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,161,160,160,160,160,160,158,158,158,158,158,158,160,160,163,163,166,166,170,170,172,172,173,null,null,null,null,null,null,null,null,166,166,165,165,165,165,164,164,163,163,163,163,165,165,167,null,null,null,null,null,null,null,null,null,177,177,175,175,175,174,174,173,173,173,173,174,174,177,177,177,179,179,180,180,178,178,174,174,172,172,null,null,null,null,null,null,null,null,null,186,186,184,184,184,183,183,183,183,185,185,187,187,191,191,192,192,192,192,191,191,191,190,190,190,190,192,192,195,195,197,197,198,198,197,197,196,196,195,null,null,null,null,null,null,null,208,209,209,209,209,207,207,207,207,207,207,208,208,208,208,206,206,202,202,198,null,null,null,null,null,null,null,null,null,null,null,null,216,216,216,216,216,216,217,217,216,216,216,216,216,216,216,216,217,217,219,219,223,223,226,226,227,227,227,227,227,null,226,226,226,226,226,225,225,225,225,225,225,225,225,225,226,226,228,230,null,null,null,null,null,null,null,235,235,235,235,234,234,233,233,233,233,235,236,null,null,null,null,null,null,239,239,239,239,238,238,238];

s = [11.9010009765625,11.9010009765625,11.9010009765625,11.4010009765625,11.4010009765625,11.4010009765625,11.566986083984375,11.566986083984375,11.566986083984375,11.566986083984375,12.052993774414062,12.052993774414062,12.052993774414062,12.052993774414062,10.89898681640625,10.89898681640625,8.464996337890625,8.464996337890625,5.9189910888671875,5.9189910888671875,3.368988037109375,3.368988037109375,1.584991455078125,1.584991455078125,1.584991455078125,1.584991455078125,1.584991455078125,0,0,5.5699920654296875,5.5699920654296875,5.5699920654296875,15.0889892578125,25.754989624023438,25.754989624023438,36.89698791503906,36.89698791503906,45.891998291015625,45.891998291015625,45.891998291015625,52.03399658203125,53.566986083984375,null,null,null,null,null,null,null,null,null,null,7.9010009765625,7.9010009765625,7.9010009765625,4.1699981689453125,4.1699981689453125,4.1699981689453125,3.329986572265625,3.329986572265625,3.2339935302734375,3.2339935302734375,5.1719970703125,5.1719970703125,10.363998413085938,10.363998413085938,20.50799560546875,20.50799560546875,33.06199645996094,33.06199645996094,42.941986083984375,42.941986083984375,52.60699462890625,52.60699462890625,52.60699462890625,52.60699462890625,64.16398620605469,64.16398620605469,67.22698974609375,67.22698974609375,68.41600036621094,68.41600036621094,68.20799255371094,68.20799255371094,64.23399353027344,64.23399353027344,64.23399353027344,64.23399353027344,64.23399353027344,55.71699523925781,52.90998840332031,52.90998840332031,51.162994384765625,51.162994384765625,50.47898864746094,50.47898864746094,50.47898864746094,52.55299377441406,56.57899475097656,56.57899475097656,63.25898742675781,63.25898742675781,70.33399963378906,70.33399963378906,77.5369873046875,77.5369873046875,83.6719970703125,83.6719970703125,86.86698913574219,86.86698913574219,89.4010009765625,89.4010009765625,89.4010009765625,90.58200073242188,91.41799926757812,91.41799926757812,91.92900085449219,91.92900085449219,92.44198608398438,92.44198608398438,92.95399475097656,92.95399475097656,92.95399475097656,92.95399475097656,93.23399353027344,93.23399353027344,93.23399353027344,95.37899780273438,95.37899780273438,101.48899841308594,101.48899841308594,107.55799865722656,107.55799865722656,111.81199645996094,111.81199645996094,114.06098937988281,114.06098937988281,115.63499450683594,115.63499450683594,115.63499450683594,116.52000427246094,117.38700866699219,117.38700866699219,118.23698425292969,118.23698425292969,120.13298034667969,120.13298034667969,123.03898620605469,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,167.56700134277344,167.56700134277344,165.27098083496094,165.27098083496094,165.23399353027344,165.23399353027344,165.23399353027344,164.91798400878906,164.91798400878906,164.4040069580078,164.4040069580078,163.5609893798828,163.5609893798828,163.3839874267578,163.3839874267578,162.51499938964844,162.51499938964844,161.30299377441406,161.30299377441406,161.30299377441406,161.30299377441406,159.73500061035156,159.73500061035156,156.37098693847656,156.37098693847656,155.4189910888672,155.4189910888672,155.4189910888672,154.72999572753906,154.72999572753906,152.91600036621094,152.91600036621094,149.0540008544922,149.0540008544922,146.14500427246094,146.14500427246094,144.50999450683594,144.50999450683594,143.92799377441406,143.92799377441406,143.92799377441406,143.92799377441406,143.92799377441406,143.92799377441406,143.92799377441406,143.1490020751953,144.6069793701172,144.6069793701172,149.61997985839844,149.61997985839844,155.9669952392578,155.9669952392578,164.91099548339844,164.91099548339844,173.06898498535156,173.06898498535156,179.33998107910156,179.33998107910156,183.8209991455078,183.8209991455078,183.8209991455078,183.8209991455078,185.64698791503906,185.64698791503906,187.16798400878906,187.16798400878906,187.40098571777344,187.40098571777344,187.40098571777344,187.40098571777344,187.40098571777344,187.40098571777344,184.95298767089844,184.95298767089844,184.56700134277344,184.56700134277344,185.18800354003906,185.18800354003906,188.23399353027344,188.23399353027344,197.2209930419922,197.2209930419922,207.9779815673828,207.9779815673828,207.9779815673828,207.9779815673828,226.4659881591797,230.6599884033203,230.6599884033203,232.04100036621094,232.04100036621094,232.6479949951172,232.6479949951172,232.3099822998047,232.3099822998047,232.3099822998047,229.8309783935547,223.82200622558594,223.82200622558594,218.9709930419922,218.9709930419922,218.9709930419922,220.0129852294922,220.0129852294922,226.38099670410156,231.23399353027344];
t = [17.334014892578125,17.334014892578125,17.334014892578125,16.834014892578125,16.834014892578125,16.834014892578125,17,17,17,17,17.486007690429688,17.486007690429688,17.486007690429688,17.486007690429688,16.332000732421875,16.332000732421875,13.89801025390625,13.89801025390625,11.352005004882812,11.352005004882812,8.802001953125,8.802001953125,7.01800537109375,7.01800537109375,7.01800537109375,7.01800537109375,7.01800537109375,5.433013916015625,5.433013916015625,11.003005981445312,11.003005981445312,11.003005981445312,20.522003173828125,31.188003540039062,31.188003540039062,42.33000183105469,42.33000183105469,51.32501220703125,51.32501220703125,51.32501220703125,57.467010498046875,59,null,null,null,null,null,null,null,null,null,null,13.334014892578125,13.334014892578125,13.334014892578125,9.603012084960938,9.603012084960938,9.603012084960938,8.76300048828125,8.76300048828125,8.667007446289062,8.667007446289062,10.605010986328125,10.605010986328125,15.797012329101562,15.797012329101562,25.941009521484375,25.941009521484375,38.49501037597656,38.49501037597656,48.375,48.375,58.040008544921875,58.040008544921875,58.040008544921875,58.040008544921875,69.59700012207031,69.59700012207031,72.66000366210938,72.66000366210938,73.84901428222656,73.84901428222656,73.64100646972656,73.64100646972656,69.66700744628906,69.66700744628906,69.66700744628906,69.66700744628906,69.66700744628906,61.15000915527344,58.34300231933594,58.34300231933594,56.59600830078125,56.59600830078125,55.91200256347656,55.91200256347656,55.91200256347656,57.98600769042969,62.01200866699219,62.01200866699219,68.69200134277344,68.69200134277344,75.76701354980469,75.76701354980469,82.97000122070312,82.97000122070312,89.10501098632812,89.10501098632812,92.30000305175781,92.30000305175781,94.83401489257812,94.83401489257812,94.83401489257812,96.0150146484375,96.85101318359375,96.85101318359375,97.36201477050781,97.36201477050781,97.875,97.875,98.38700866699219,98.38700866699219,98.38700866699219,98.38700866699219,98.66700744628906,98.66700744628906,98.66700744628906,100.81201171875,100.81201171875,106.92201232910156,106.92201232910156,112.99101257324219,112.99101257324219,117.24501037597656,117.24501037597656,119.49400329589844,119.49400329589844,121.06800842285156,121.06800842285156,121.06800842285156,121.95301818847656,122.82002258300781,122.82002258300781,123.66999816894531,123.66999816894531,125.56599426269531,125.56599426269531,128.4720001220703,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,173.00001525878906,173.00001525878906,170.70399475097656,170.70399475097656,170.66700744628906,170.66700744628906,170.66700744628906,170.3509979248047,170.3509979248047,169.83702087402344,169.83702087402344,168.99400329589844,168.99400329589844,168.81700134277344,168.81700134277344,167.94801330566406,167.94801330566406,166.7360076904297,166.7360076904297,166.7360076904297,166.7360076904297,165.1680145263672,165.1680145263672,161.8040008544922,161.8040008544922,160.8520050048828,160.8520050048828,160.8520050048828,160.1630096435547,160.1630096435547,158.34901428222656,158.34901428222656,154.4870147705078,154.4870147705078,151.57801818847656,151.57801818847656,149.94300842285156,149.94300842285156,149.3610076904297,149.3610076904297,149.3610076904297,149.3610076904297,149.3610076904297,149.3610076904297,149.3610076904297,148.58201599121094,150.0399932861328,150.0399932861328,155.05299377441406,155.05299377441406,161.40000915527344,161.40000915527344,170.34400939941406,170.34400939941406,178.5019989013672,178.5019989013672,184.7729949951172,184.7729949951172,189.25401306152344,189.25401306152344,189.25401306152344,189.25401306152344,191.0800018310547,191.0800018310547,192.6009979248047,192.6009979248047,192.83399963378906,192.83399963378906,192.83399963378906,192.83399963378906,192.83399963378906,192.83399963378906,190.38600158691406,190.38600158691406,190.00001525878906,190.00001525878906,190.6210174560547,190.6210174560547,193.66700744628906,193.66700744628906,202.6540069580078,202.6540069580078,213.41099548339844,213.41099548339844,213.41099548339844,213.41099548339844,231.8990020751953,236.09300231933594,236.09300231933594,237.47401428222656,237.47401428222656,238.0810089111328,238.0810089111328,237.7429962158203,237.7429962158203,237.7429962158203,235.2639923095703,229.25502014160156,229.25502014160156,224.4040069580078,224.4040069580078,224.4040069580078,225.4459991455078,225.4459991455078,231.8140106201172,236.66700744628906,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,21.667007446289062,21.667007446289062,22.254013061523438,22.254013061523438,22.254013061523438,22.254013061523438,22.254013061523438,22.334014892578125,22.334014892578125,21.885009765625,21.885009765625,20.167007446289062,20.167007446289062,16.711013793945312,16.711013793945312,16.711013793945312,16.711013793945312,8.474014282226562,8.474014282226562,4.6590118408203125,4.6590118408203125,2.2910003662109375,2.2910003662109375,2.2910003662109375,0.9550018310546875,0.9550018310546875,0.134002685546875,0.134002685546875,0,0,0,0,0,11.610000610351562,24.144012451171875,24.144012451171875,34.980010986328125,34.980010986328125,44.40901184082031,44.40901184082031,44.40901184082031,44.40901184082031,44.40901184082031,59.22801208496094,64.58900451660156,null,null,null,null,null,null,null,null,null,null,null,null,18.667007446289062,18.667007446289062,18.667007446289062,18.334014892578125,18.334014892578125,18.334014892578125,18.334014892578125,19.094009399414062,19.094009399414062,21.77301025390625,21.77301025390625,21.77301025390625,21.77301025390625,21.77301025390625,21.77301025390625,43.790008544921875,43.790008544921875,52.13301086425781,52.13301086425781,52.13301086425781,52.13301086425781,68.30400085449219,68.30400085449219,72.98300170898438,72.98300170898438,75.62200927734375,75.62200927734375,76.66700744628906,76.66700744628906,76.66700744628906,76.66700744628906,74.68701171875,74.68701171875,69.79400634765625,69.79400634765625,69.79400634765625,64.78201293945312,60.35700988769531,60.35700988769531,57.199005126953125,57.199005126953125,55.45100402832031,55.45100402832031,55.334014892578125,55.334014892578125,56.37300109863281,56.37300109863281,60.27900695800781,60.27900695800781,67.64700317382812,67.64700317382812,67.64700317382812,73.99200439453125,73.99200439453125,84.5,84.5,86.61100769042969,86.61100769042969,86.61100769042969,86.61100769042969,86.61100769042969,86.61100769042969,91.33401489257812,91.33401489257812,91.33401489257812,91.33401489257812,91.33401489257812,91.33401489257812,91.33401489257812,91.33401489257812,91.33401489257812,93.71400451660156,93.71400451660156,93.71400451660156,93.71400451660156,106.27500915527344,106.27500915527344,111.63200378417969,111.63200378417969,114.0260009765625,114.0260009765625,116.13301086425781,116.13301086425781,117.54899597167969,117.54899597167969,117.54899597167969,117.54899597167969,121.56199645996094,121.56199645996094,124.09800720214844,124.09800720214844,124.66700744628906,null,null,null,null,null,null,null,null,null,null,null,null,null,null,159.66700744628906,159.66700744628906,159.66700744628906,158.2360076904297,158.2360076904297,158.33399963378906,158.33399963378906,158.22999572753906,158.22999572753906,157.40699768066406,157.40699768066406,155.9239959716797,155.9239959716797,152.78001403808594,152.78001403808594,149.57801818847656,149.57801818847656,145.9759979248047,145.9759979248047,142.7740020751953,142.7740020751953,142.7740020751953,142.7740020751953,142.7740020751953,139.4759979248047,139.4759979248047,139.4759979248047,138.9610137939453,138.9610137939453,139.33399963378906,139.33399963378906,141.38099670410156,141.38099670410156,141.38099670410156,141.38099670410156,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,142.66700744628906,143.6320037841797,145.66600036621094,145.66600036621094,153.7620086669922,153.7620086669922,153.7620086669922,162.6479949951172,172.2320098876953,172.2320098876953,172.2320098876953,172.2320098876953,178.93202209472656,178.93202209472656,184.6640167236328,184.6640167236328,185.40199279785156,185.40199279785156,185.83399963378906,185.83399963378906,185.00001525878906,185.00001525878906,185.00001525878906,185.00001525878906,185.00001525878906,173.86500549316406,173.86500549316406,172.7530059814453,172.7530059814453,172.33399963378906,172.33399963378906,175.20701599121094,175.20701599121094,187.82301330566406,187.82301330566406,187.82301330566406,201.4239959716797,201.4239959716797,214.49501037597656,223.83399963378906,223.83399963378906,231.05601501464844,231.05601501464844,235.1990203857422,235.1990203857422,237.16600036621094,237.16600036621094,237.33399963378906,237.33399963378906,237.33399963378906,237.33399963378906,236.51600646972656,236.51600646972656,233.35401916503906,233.35401916503906,227.95399475097656,227.95399475097656,225.56700134277344,225.56700134277344,225.56700134277344,225.56700134277344,225.56700134277344,225.56700134277344,230.33399963378906,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,29.667007446289062,29.667007446289062,28.863006591796875,28.863006591796875,27.667007446289062,27.667007446289062,28.667007446289062,28.667007446289062,28.047012329101562,28.047012329101562,28,28,27.689010620117188,27.689010620117188,27.179000854492188,27.179000854492188,27.179000854492188,27.179000854492188,24.681015014648438,24.681015014648438,16.501007080078125,16.501007080078125,13.8900146484375,13.8900146484375,12.220001220703125,12.220001220703125,11.451004028320312,11.451004028320312,10.942001342773438,10.942001342773438,11.22900390625,11.22900390625,14.220001220703125,14.220001220703125,24.384002685546875,24.384002685546875,24.384002685546875,24.384002685546875,47.05601501464844,47.05601501464844,57.855010986328125,57.855010986328125,67,67.66700744628906,null,null,null,null,null,null,null,null,null,null,null,null,null,null,29.334014892578125,29.334014892578125,29.730010986328125,29.730010986328125,29.667007446289062,29.667007446289062,30.074005126953125,30.074005126953125,31.97100830078125,31.97100830078125,36.707000732421875,36.707000732421875,45.50401306152344,45.50401306152344,45.50401306152344,45.50401306152344,65.66000366210938,65.66000366210938,75.68701171875,75.68701171875,85.45600891113281,85.45600891113281,92.66700744628906,92.66700744628906,92.66700744628906,97.70901489257812,100.22000122070312,100.22000122070312,101.03001403808594,101.03001403808594,100.79701232910156,100.79701232910156,98.75401306152344,98.75401306152344,92.18301391601562,92.18301391601562,85.86801147460938,85.86801147460938,85.86801147460938,81.16000366210938,81.16000366210938,76.96800231933594,76.96800231933594,75.47700500488281,75.47700500488281,75.33401489257812,75.33401489257812,75.33401489257812,76.87200927734375,76.87200927734375,81.16500854492188,81.16500854492188,88.32901000976562,88.32901000976562,88.32901000976562,88.32901000976562,99.58401489257812,99.58401489257812,102.68701171875,102.68701171875,104.37800598144531,104.37800598144531,104.37800598144531,104.37800598144531,106.34800720214844,106.34800720214844,106.66700744628906,106.66700744628906,106.28700256347656,106.28700256347656,105.43301391601562,105.43301391601562,105.43301391601562,105,105,105,105,105,106.9320068359375,106.9320068359375,112.76100158691406,112.76100158691406,120.68000793457031,120.68000793457031,128.86000061035156,128.86000061035156,133.52601623535156,133.52601623535156,133.52601623535156,136.3090057373047,136.3090057373047,138.00901794433594,138.00901794433594,139.35401916503906,139.35401916503906,139.35401916503906,139.35401916503906,140.36900329589844,140.36900329589844,143.5130157470703,143.5130157470703,145.00001525878906,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,175.66700744628906,174.65101623535156,174.65101623535156,173.97300720214844,173.97300720214844,172.6000213623047,172.6000213623047,172.6000213623047,172.6000213623047,170.5189971923828,168.47300720214844,168.47300720214844,166.44300842285156,166.44300842285156,166.44300842285156,166.44300842285156,164.0240020751953,161.7100067138672,161.7100067138672,160.07301330566406,160.07301330566406,159.7370147705078,159.7370147705078,159.7370147705078,159.33399963378906,159.61399841308594,159.61399841308594,162.5590057373047,162.5590057373047,166.16200256347656,166.16200256347656,168.2620086669922,168.2620086669922,168.65501403808594,168.65501403808594,168.66700744628906,168.66700744628906,168.66700744628906,168.66700744628906,167.66700744628906,167.66700744628906,167.63999938964844,167.63999938964844,167.63999938964844,167.63999938964844,167.00001525878906,167.00001525878906,167.2259979248047,167.2259979248047,169.35499572753906,169.35499572753906,176.66700744628906,176.66700744628906,187.55101013183594,187.55101013183594,197.8050079345703,197.8050079345703,197.8050079345703,197.8050079345703,197.8050079345703,209.63999938964844,211.8470001220703,211.8470001220703,212.3090057373047,212.3090057373047,212.33399963378906,212.33399963378906,212.33399963378906,211.02699279785156,211.02699279785156,211.02699279785156,206.9510040283203,201.89100646972656,201.89100646972656,198.70799255371094,198.70799255371094,198.70799255371094,196.9239959716797,196.5480194091797,196.5480194091797,196.5480194091797,196.5480194091797,201.95399475097656,201.95399475097656,209.15602111816406,209.15602111816406,218.5440216064453,218.5440216064453,226.43202209472656,226.43202209472656,233.79200744628906,233.79200744628906,233.79200744628906,238.81199645996094,241.4980010986328,241.4980010986328,242.13401794433594,242.13401794433594,242.13401794433594,242.13401794433594,242.13401794433594,242.33399963378906,242.33399963378906,242.33399963378906,240.1210174560547,240.1210174560547,237.9230194091797,237.9230194091797,237.33399963378906,237.33399963378906,238.4550018310547,238.4550018310547,238.4550018310547,241.9409942626953,248.49501037597656];

s = s.filter(function(n){ return n != undefined });
t = t.filter(function(n){ return n != undefined });

console.log('Elements in s:', s.length);
console.log('Elements in t:', t.length);

var result_s = extrema(s, "1");
var result_t = extrema(t, "1");
result_s.minlist = result_s.minlist.filter(function(n){ return n != undefined });
result_s.maxlist = result_s.maxlist.filter(function(n){ return n != undefined });
result_t.minlist = result_t.minlist.filter(function(n){ return n != undefined });
result_t.maxlist = result_t.maxlist.filter(function(n){ return n != undefined });
console.log(result_s);
console.log(result_t);

// for (var i = 0; i < result_s.minlist.length; i++) {
//   console.log(s[result_s.minlist[i]]);
// }
//
// for (var i = 0; i < result_s.maxlist.length; i++) {
//   console.log(s[result_s.maxlist[i]]);
// }
//
// for (var i = 0; i < result_t.minlist.length; i++) {
//   console.log(t[result_t.minlist[i]]);
// }
//
// for (var i = 0; i < result_t.maxlist.length; i++) {
//   console.log(t[result_t.maxlist[i]]);
// }

for(var i=0; i<result_s.minlist.length;i++) result_s.minlist[i] = parseInt(result_s.minlist[i]);
for(var i=0; i<result_s.maxlist.length;i++) result_s.maxlist[i] = parseInt(result_s.maxlist[i]);
for(var i=0; i<result_t.minlist.length;i++) result_t.minlist[i] = parseInt(result_t.minlist[i]);
for(var i=0; i<result_t.maxlist.length;i++) result_t.maxlist[i] = parseInt(result_t.maxlist[i]);

min_s_min = Math.min.apply(null, result_s.minlist);
min_s_max = Math.min.apply(null, result_s.maxlist);
min_t_min = Math.min.apply(null, result_t.minlist);
min_t_max = Math.min.apply(null, result_t.maxlist);


intervals_s = []
if (min_s_min < min_s_max) {
  for (var i = 0; i < result_s.minlist.length; i++) {
    intervals_s.push(result_s.minlist[i])
    if (result_s.maxlist[i] != undefined) {
      intervals_s.push(result_s.maxlist[i])
    } else {
      break;
    }
  }
} else {
  for (var i = 0; i < result_s.maxlist.length; i++) {
    intervals_s.push(result_s.maxlist[i])
    if (result_s.minlist[i] != undefined) {
      intervals_s.push(result_s.minlist[i])
    } else {
      break;
    }
  }
}
console.log('interval cutting points:');
console.log(intervals_s);

intervals_t = []
if (min_t_min < min_t_max) {
  for (var i = 0; i < result_t.minlist.length; i++) {
    intervals_t.push(result_t.minlist[i])
    if (result_t.maxlist[i] != undefined) {
      intervals_t.push(result_t.maxlist[i])
    } else {
      break;
    }
  }
} else {
  for (var i = 0; i < result_t.maxlist.length; i++) {
    intervals_t.push(result_t.maxlist[i])
    if (result_t.minlist[i] != undefined) {
      intervals_t.push(result_t.minlist[i])
    } else {
      break;
    }
  }
}
console.log(intervals_t);

var cost_intervals = dtw.compute(intervals_s, intervals_t);
var path = dtw.path();
console.log('Path: ');
console.log(path);

var new_intervals_s = [intervals_s[0]];
var new_intervals_t = [intervals_t[0]];
if (intervals_s.length <= intervals_t.length) {
  for (var i = 0; i < path.length; i++) {
    if (i > 0 && (path[i][0] !== path[i-1][0])) {
      if (path[i][1] !== path[i-1][1]) {
        new_intervals_s.push(intervals_s[path[i][0]]);
        new_intervals_t.push(intervals_t[path[i][1]]);
      }
    }
  }
} else if (intervals_t.length < intervals_s.length) {
  for (var i = 0; i < path.length; i++) {
    if (i > 0 && (path[i][1] !== path[i-1][1])) {
      if (path[i][0] !== path[i-1][0]) {
        new_intervals_s.push(intervals_s[path[i][0]]);
        new_intervals_t.push(intervals_t[path[i][1]]);
      }
    }
  }
}
console.log('dtw mapped interval cutting points:');
console.log(new_intervals_s);
console.log(new_intervals_t);

intervals_s = new_intervals_s
intervals_t = new_intervals_t

console.log('slices:');
for (var i = 0; i < intervals_s.length-1; i++) {
  console.log(s.slice(intervals_s[i], intervals_s[i+1]));
}

for (var i = 0; i < intervals_t.length-1; i++) {
  console.log(s.slice(intervals_t[i], intervals_t[i+1]));
}

console.log('## Cost calculation:');
var sum = 0
var cost = undefined
for (var i = 0; i < intervals_s.length-1; i++) {
  cost = dtw.compute(s.slice(intervals_t[i], intervals_t[i+1]), t.slice(intervals_t[i], intervals_t[i+1]));
  sum = sum + cost
  console.log('Cost slice_' + (i + 1) + ':', cost);
}
console.log('Cost sum slices: ' + sum);

var cost_a = dtw.compute(s, t);
console.log('Cost without slices: ' + cost_a);
console.log('ratio:', sum/cost_a);
//
// var plotly = require('plotly')("DomeGER", "l4iekpanh7")
// var data = [{x:[0,1,2], y:[3,2,1], type: 'bar'}];
// var layout = {fileopt : "overwrite", filename : "simple-node-example"};
//
// plotly.plot(data, layout, function (err, msg) {
// 	if (err) return console.log(err);
// 	console.log(msg);
// });
